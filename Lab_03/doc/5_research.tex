\chapter{Экспериментальный раздел}
\label{cha:research}
    В данном разделе будут проведены эксперименты для проведения 
    сравнительного анализа трёх алгоритмов по затрачиваемому процессорному 
    времени в зависимости от длины массива и степени его отсортированности.

    \section{Сравнительный анализ на основе замеров времени работы алгоритмов}
        В рамках данного проекта были проведёны следующие эксперименты:
        \begin{enumerate}
            \item сравнение времени работы алгоритмов в лучшем случаи (графики \ref{graph:test:best:1} и \ref{graph:test:best:2});
            \item сравнение времени работы алгоритмов в худшем случаи (график \ref{graph:test:bad});
            \item сравнение времени работы алгоритмов в произвольном случаи (график \ref{graph:test:random}).
        \end{enumerate}

        Для лучшего случая массивы заполняются в порядке возрастания числами от -1000 до 1000,
        для худшего случая -- в порядке убывания от -1000 до 1000, для произвольного случая --
        псевдослучайные числами в диапазоне от -1000 до 1000. Для построения графиков 
        указанные массивы генерировались размерами от 1 до 10000.

        Тестирование проводилось на ноутбуке с процессором
        Intel(R) Core(TM) i5-7200U CPU 2.50 GHz \cite{processor-i5-7200u}
        под управлением Windows 10 с 8 Гб оперативной памяти.

        В ходе экспериментов по замеру времени работы было установлено, что 
        в лучшем случае, когда массив отсортирован, сортировка выбором оказалась самой медленной.
        Алгоритм сортировки вставками оказался медленнее сортировки вставками.
        Сортировка пузырьком с флагом в лучшем случае работает быстрее всего.

        В худшем случае самой медленной сортировкой является сортировка пузырьком с флагом,
        а сортировка выбором является самой быстрой (более, чем в 2 раза быстрее сортировки с флагом).

        В произвольном случае время работы сортировок вставками и выбором сопоставимо.
        Самой медленной является сортировка пузырьком с флагом,
        на длине массива 10000 она работает в $ \approx 1.75 $ раз медленнее,
        чем другие сортировки.
        

    \section{Оценка трудоёмкости алгоритмов сортировки}
        Во всех теоритических оценках трудоёмкости
        алгоритмов сортировки предполагается, что
        трудоёмкость сравнения $ f_{cmp} = 2 $.

        \subsection{Алгоритм сортировки пузырьком c флагом}
            Найдём трудоёмкость алгоритм сортировки пузырьком c флагом.
            
            Лучший случай -- массив отсортирован; 
            не произошло ни одного обмена за 1 проход,
            следовательно выходим из цикла, тогда
            трудоёмкость определяется по следующей формуле:

            \begin{equation}
                f = 1 + 2 + (2 + 1 + 2 + (N - 1) (2 + 3) + 2) = 5N + 8= O(N)
            \end{equation}

            Худший случай -- массив отсортирован в обратном порядке; 
            На каждой итерации происходил обмен, тогда
            трудоёмкость определяется по следующей формуле:

            \begin{equation}
                f = 1 + 2 + \sum_{i=1}^N (2 + 1 + 2 + (N - i)(2 + 4) + 1) = 3N^2 + 3N + 3 = O(N^2)
            \end{equation}

        \subsection{Алгоритм сортировки вставками}
            Найдём трудоёмкость алгоритма сортировки вставками.
                
            Лучший случай -- массив отсортирован. 
            При этом все внутренние циклы состоят всего из одной итерации, тогда
            трудоёмкость определяется по следующей формуле:

            \begin{equation}
                f = 1 + 2 + (N-1)(2 + 3 + 2 + 2 + 1) = 10N - 7 = O(N)
            \end{equation}

            Худший случай -- массив отсортирован в обратном порядке. 
            Каждый новый элемент сравнивается со всеми в отсортированной последовательности.
            Все внутренние циклы будут состоять из j итераций, тогда
            трудоёмкость определяется по следующей формуле:

            \begin{equation}
                f = 1 + 2 + (N-1)(2 + 3 + \sum_{i=1}^{N-1} (2 + 2 + 1 + 4 + 1) + 1) = 10N^2 - 14N + 7 = O(N^2)
            \end{equation}

        \subsection{Алгоритм сортировки выбором}
            Трудоёмкость сортировки выбором в худшем и лучшем случаях совпадает
            и оценивается как $ O(N^2) $.       

    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \begin{axis}[
                legend pos = north west,
                grid = major,
                xlabel = Размер массива,
                ylabel = {Время, сек},
                height = 0.5\paperheight, 
                width = 0.75\paperwidth
            ]
            
            \addplot table[x=n,y=bubble] {data/test-best.dat};
            \addplot table[x=n,y=insertion] {data/test-best.dat};
            \addplot table[x=n,y=selection] {data/test-best.dat};
            \legend{
                Сортировка пузырьком,
                Сортировка вставками,
                Сортировка выбором,
            };
            \end{axis}
        \end{tikzpicture}
        \caption{График зависимости времени работы реализации алгоритмов сортировки в лучшем случае} 
        \label{graph:test:best:1}
    \end{figure}

    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \begin{axis}[
                legend pos = north west,
                grid = major,
                xlabel = Размер массива,
                ylabel = {Время, сек},
                height = 0.5\paperheight, 
                width = 0.75\paperwidth
            ]
            
            \addplot table[x=n,y=bubble] {data/test-best.dat};
            \addplot table[x=n,y=insertion] {data/test-best.dat};
            \legend{
                Сортировка пузырьком,
                Сортировка вставками,
                Сортировка выбором,
            };
            \end{axis}
        \end{tikzpicture}
        \caption{График зависимости времени работы реализации алгоритмов сортировки пузырьком и вставками в лучшем случае} 
        \label{graph:test:best:2}
    \end{figure}

    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \begin{axis}[
                legend pos = north west,
                grid = major,
                xlabel = Размер массива,
                ylabel = {Время, сек},
                height = 0.5\paperheight, 
                width = 0.75\paperwidth
            ]
            
            \addplot table[x=n,y=bubble] {data/test-bad.dat};
            \addplot table[x=n,y=insertion] {data/test-bad.dat};
            \addplot table[x=n,y=selection] {data/test-bad.dat};
            \legend{
                Сортировка пузырьком,
                Сортировка вставками,
                Сортировка выбором,
            };
            \end{axis}
        \end{tikzpicture}
        \caption{График зависимости времени работы реализации алгоритмов сортировки в худшем случае} 
        \label{graph:test:bad}
    \end{figure}

    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \begin{axis}[
                legend pos = north west,
                grid = major,
                xlabel = Размер массива,
                ylabel = {Время, сек},
                height = 0.5\paperheight, 
                width = 0.75\paperwidth
            ]
            
            \addplot table[x=n,y=bubble] {data/test-random.dat};
            \addplot table[x=n,y=insertion] {data/test-random.dat};
            \addplot table[x=n,y=selection] {data/test-random.dat};
            \legend{
                Сортировка пузырьком,
                Сортировка вставками,
                Сортировка выбором,
            };
            \end{axis}
        \end{tikzpicture}
        \caption{График зависимости времени работы реализации алгоритмов сортировки в произвольном случае} 
        \label{graph:test:random}
    \end{figure}

\newpage